define("static/scripts/index/dep/dep",["sea-modules/jquery/cookie/jquery.cookie","static/scripts/index/dep/dep_list","static/scripts/index/tree"],function(e,t,i){i.exports=function(t){var i=null;e("sea-modules/jquery/cookie/jquery.cookie");var r=$.cookie("bizData"),d=function(t){var r=e("static/scripts/index/dep/dep_list");r(t,function(e){if("add"===e.type){var r=i.treeObj.getNodeByParam("id",t,null);i.treeObj.addNodes(r,e.obj)}else if("update"===e.type){var d=i.treeObj.getNodeByParam("id",e.obj.id,null);d.name=e.obj.name,i.treeObj.updateNode(d)}else if("delete"===e.type){var n=i.treeObj.getNodeByParam("id",e.id,null);i.treeObj.removeNode(n)}})};$.get("/system/department/queryTreeDepartmentAll?token="+r,function(r){if("0000000"===r.rtnCode){var n=r.bizData;if(n.length<=0)return r.msg||(r.msg="请联系管理员添加代理公司"),void t.err(r);t.succ(),i=e("static/scripts/index/tree"),i.init({id:"tree_menu",url:"",beforeClick:function(e,t){d(t.id)},onAsyncSuccess:function(){},nodes:n});var o=n[0],a=i.treeObj.getNodeByParam("id",o.id,null);i.treeObj.selectNode(a),i.treeObj.expandNode(a,!0,!1,!0),d(o.id)}else t.err(r)})}});