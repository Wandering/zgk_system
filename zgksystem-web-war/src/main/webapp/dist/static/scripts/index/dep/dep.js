define("static/scripts/index/dep/dep",["sea-modules/jquery/cookie/jquery.cookie","static/scripts/index/dep/dep_list","static/scripts/index/tree"],function(e,t,i){i.exports=function(t){var i=null;e("sea-modules/jquery/cookie/jquery.cookie");var r=$.cookie("bizData"),d=function(t){var r=e("static/scripts/index/dep/dep_list");r(t,function(e){if("add"===e.type){var r=i.treeObj.getNodeByParam("id",t,null);i.treeObj.addNodes(r,e.obj)}else if("update"===e.type){var d=i.treeObj.getNodeByParam("id",e.obj.id,null);console.log(e.obj),d.name=e.obj.name,i.treeObj.updateNode(d)}else if("delete"===e.type){var o=i.treeObj.getNodeByParam("id",e.id,null);i.treeObj.removeNode(o)}})};$.get("/system/department/queryTreeDepartmentAll?token="+r,function(r){if("0000000"===r.rtnCode){var o=r.bizData;if(o.length<=0)return r.msg||(r.msg="请联系管理员添加代理公司"),void t.err(r);t.succ(),i=e("static/scripts/index/tree"),i.init({id:"tree_menu",url:"",beforeClick:function(e,t){d(t.id)},onAsyncSuccess:function(){},nodes:o});var n=o[0],s=i.treeObj.getNodeByParam("id",n.id,null);i.treeObj.selectNode(s),i.treeObj.expandNode(s,!0,!1,!0),d(n.id)}else t.err(r)})}});